{"version":3,"sources":["img/na.png","components/MovieResult.js","constants/Constants.js","components/Nominated.js","components/SearchBox.js","components/SearchResult.js","components/Main.js","App.js","index.js"],"names":["MovieResult","nominated","setNominated","removeNominated","movie","type","reRender","useState","setValue","value","useRerender","isNominated","undefined","find","imdbID","useEffect","notifyNominateSuccess","toast","dismiss","success","notifyRemoveSuccess","notifyNominateFail","error","className","target","href","rel","Poster","src","require","default","alt","onError","removeBrokenLink","Title","length","slice","Year","disabled","onClick","nominateMovie","removeMovie","Nominated","setSearchQuery","removeNomination","removedMovie","filter","notifySubmissionSuccess","submitStatus","setSubmitStatus","map","idx","setTimeout","SearchBox","style","color","fontSize","minLength","debounceTimeout","onChange","e","placeholder","data-tip","effect","API_KEY","process","SearchResult","searchQuery","searchResult","setSearchResult","resultExists","setResultExists","resultPage","setResultPage","loadingStatus","setLoadingStatus","a","results","page","NUM_FETCH_MOVIES","axios","get","then","res","data","result","Search","Response","push","getSearchResult","localStorage","setItem","JSON","stringify","marginBottom","visibility","display","loading","height","width","Main","dotenv","config","localData","getItem","parse","err","console","log","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b23f715c.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from 'react';\r\nimport { NOMINATE_LIMIT, MAXIMUM_TITLE_LENGTH } from '../constants/Constants';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\n\r\nfunction useRerender(){\r\n  // eslint-disable-next-line\r\n  const [value, setValue] = useState(0); // integer state\r\n  return () => setValue(value => value + 1); // update the state to force render\r\n}\r\n\r\nconst MovieResult = ({ nominated, setNominated = null, removeNominated = null, movie, type }) => {\r\n\r\n  const reRender = useRerender();\r\n\r\n  function isNominated(movie) {\r\n    return nominated.find(({ imdbID }) => imdbID === movie.imdbID) !== undefined;\r\n  }\r\n\r\n  function nominateMovie(movie) {\r\n    if (nominated.length < NOMINATE_LIMIT) {\r\n      setNominated([...nominated, movie]);\r\n      notifyNominateSuccess();\r\n    } else {\r\n      notifyNominateFail();\r\n    }\r\n  }\r\n\r\n  function removeMovie(movie) {\r\n    removeNominated(movie);\r\n    notifyRemoveSuccess();\r\n  }\r\n\r\n  function removeBrokenLink(movie) {\r\n    movie.Poster = \"N/A\";\r\n    reRender();\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n  }, [movie])\r\n\r\n  const notifyNominateSuccess = () => { toast.dismiss(); toast.success('Nominated!'); }\r\n  const notifyRemoveSuccess = () => { toast.dismiss(); toast.success('Removed!'); }\r\n  const notifyNominateFail = () => { toast.dismiss(); toast.error('No more movies can be nominated!'); }\r\n\r\n  return (\r\n    <div className=\"movie-result\">\r\n      <a target=\"_blank\" href={`https://www.imdb.com/title/${movie.imdbID}`} rel=\"noreferrer noopener\"> { /* Add link to imdb page */}\r\n        <div className=\"movie-poster\">\r\n          {movie.Poster === \"N/A\" ?\r\n            <img src={require('../img/na.png').default} alt=\"poster-n/a\" /> // poster not available\r\n            :\r\n            <img src={movie.Poster} alt=\"poster\" \r\n              onError={() => { removeBrokenLink(movie); }} \r\n            /> // poster available\r\n          }\r\n        </div>\r\n      </a>\r\n      <div className=\"movie-info\">\r\n        <a target=\"_blank\" href={`https://www.imdb.com/title/${movie.imdbID}`} rel=\"noreferrer noopener\">\r\n          <div className=\"movie-title\">\r\n            { movie.Title.length > MAXIMUM_TITLE_LENGTH ? movie.Title.slice(0, MAXIMUM_TITLE_LENGTH) + \"...\" : movie.Title } { /* omit some characters if title is too long */ }\r\n          </div>\r\n        </a>\r\n        <div className=\"movie-year\">{movie.Year}</div>\r\n      </div>\r\n\r\n      <div className=\"movie-button\">\r\n        { type === \"search\" ?\r\n          // button when type is search\r\n          <button className={isNominated(movie) ? \"nominate-button nominate-button-disabled\" : \"nominate-button nominate-button-enabled\"}\r\n            disabled={isNominated(movie)}\r\n            onClick={() => nominateMovie(movie)}\r\n          >\r\n            {isNominated(movie) ?\r\n              <div>\r\n                <i className=\"fas fa-check-circle\" />\r\n                &nbsp;Nominated\r\n              </div>\r\n              :\r\n              <div>\r\n                <i className=\"fas fa-mouse-pointer\" />\r\n                &nbsp;Nominate\r\n              </div>\r\n            }\r\n          </button>\r\n          :\r\n          // button when type is nomination\r\n          <button className=\"nominate-button remove-nomination-button\"\r\n            onClick={() => removeMovie(movie)}\r\n          >\r\n            <i className=\"fas fa-trash-alt\" />\r\n            &nbsp;Remove\r\n          </button>\r\n        }\r\n      </div>\r\n      <Toaster />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieResult;","export const SEARCH_LENGTH_LIMIT = 1; // minimum number of characters required for search queries\r\nexport const NOMINATE_LIMIT = 5; // maximum number of movies for nomination\r\nexport const RESULTS_PER_PAGE = 5; // number of movies to show per page for search result\r\nexport const MAXIMUM_TITLE_LENGTH = 35; // maximum number of characters to show for movie title (rest will be omitted)\r\nexport const NUM_FETCH_MOVIES = 50; // number of movies to fetch from given search query ","import React, { useState } from 'react';\r\nimport MovieResult from './MovieResult';\r\nimport { NOMINATE_LIMIT } from '../constants/Constants';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\n\r\nconst Nominated = ({ nominated, setNominated, setSearchQuery }) => {\r\n  function removeNomination(removedMovie) {\r\n    setNominated(nominated.filter(movie => movie.imdbID !== removedMovie.imdbID));\r\n  }\r\n\r\n  function simulateSubmission() {\r\n    setSubmitStatus(1);\r\n\r\n    setTimeout(() => {\r\n      setNominated([]); // reset nomination list\r\n      notifySubmissionSuccess();\r\n      setSubmitStatus(0);\r\n    }, 2000)\r\n  }\r\n\r\n  const notifySubmissionSuccess = () => { toast.dismiss(); toast.success('Nomination Submitted!'); }\r\n\r\n  const [submitStatus, setSubmitStatus] = useState(0); // 0 - idle, 1 - submitting\r\n\r\n  return (\r\n    <div className=\"nomination-container\">\r\n      <div className=\"nomination-title\">\r\n        Your nominations\r\n      </div>\r\n      { nominated.length > 0 ?\r\n        <div className=\"nominated-movies\">\r\n        {\r\n          nominated.map((movie, idx) => (\r\n            <MovieResult nominated={nominated} setNominated={setNominated} removeNominated={removeNomination} movie={movie} key={`movie-${idx}`}/>\r\n          ))\r\n        }\r\n        </div>\r\n        :\r\n        <div className=\"no-nomination\">\r\n          Please choose your top 5 movies!\r\n        </div>\r\n      }\r\n      { nominated.length === NOMINATE_LIMIT &&\r\n        // nomination completed\r\n        <div className={submitStatus === 0 ? \"nomination-complete\" : \"nomination-complete nomination-submitting\"} onClick={() => simulateSubmission()}>\r\n          <i className=\"fas fa-check-circle\" />\r\n          { submitStatus === 0 ? <span>Submit Nomination</span> : <span>Submitting...</span> }\r\n        </div>\r\n      }\r\n      <Toaster />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Nominated;","import React from 'react';\r\nimport { DebounceInput } from 'react-debounce-input';\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\nconst SearchBox = ({ setSearchQuery }) => {\r\n  return (\r\n    <div className=\"search\">\r\n      <div className=\"search-bar\">\r\n        <i className=\"fas fa-search search-icon\" style={{ color: \"#bdbdbd\", fontSize: \"20px\" }} />\r\n        <DebounceInput className=\"search-bar-input\" minLength={3} debounceTimeout={500} onChange={e => setSearchQuery(e.target.value)} \r\n          placeholder=\"Search by title\"\r\n        />\r\n        <i className=\"fas fa-info-circle info-icon\" style={{ color: \"#bdbdbd\", fontSize: \"20px\" }} \r\n          data-tip=\"Top 50 results will show up. Please search more specifically if the movie you're looking for is not showing up.\"\r\n        />\r\n      </div>\r\n      <ReactTooltip effect=\"solid\"/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBox;","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { SEARCH_LENGTH_LIMIT, RESULTS_PER_PAGE, NUM_FETCH_MOVIES } from '../constants/Constants';\r\nimport MovieResult from './MovieResult';\r\nimport BarLoader from 'react-spinners/BarLoader';\r\n\r\nconst API_KEY = process.env.REACT_APP_OMDB_API_KEY;\r\n\r\nconst SearchResult = ({ searchQuery, nominated, setNominated }) => {\r\n  const [searchResult, setSearchResult] = useState([]) // init\r\n  const [resultExists, setResultExists] = useState(false);\r\n  const [resultPage, setResultPage] = useState(0);\r\n  const [loadingStatus, setLoadingStatus] = useState(0); // 0 = no query, 1 = loading, 2 = loaded\r\n\r\n  async function getSearchResult() {\r\n    // TODO: page = 1 by default, must get parameter to allow more extensive search\r\n\r\n    let results = [];\r\n\r\n    for (let page = 1; page <= (NUM_FETCH_MOVIES / 10); page += 1) {\r\n      await axios.get(`http://www.omdbapi.com/?apikey=${API_KEY}&s=${searchQuery}&type=movie&page=${page}`)\r\n        .then(res => {\r\n          const data = res.data;\r\n          const result = data.Search;\r\n          const resultExists = data.Response\r\n\r\n          if (resultExists === \"True\") {\r\n            results.push(...result);\r\n          }\r\n        })\r\n    }\r\n\r\n    if (results.length > 0) {\r\n      setSearchResult(results);\r\n      setResultExists(true);\r\n    } else {\r\n      setResultExists(false);\r\n    }\r\n    setLoadingStatus(2);    \r\n  }\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setResultPage(0); // reset result page to 0 if search query changes\r\n    setSearchResult([]);\r\n\r\n    if (searchQuery === \"\") {\r\n      setLoadingStatus(0);\r\n      setSearchResult([]);\r\n    } else if (searchQuery.length >= SEARCH_LENGTH_LIMIT) {\r\n      setLoadingStatus(1);\r\n      getSearchResult();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [searchQuery])\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('shoppies-nomination', JSON.stringify(nominated));\r\n  }, [nominated])\r\n\r\n  return (\r\n    loadingStatus === 2 ?\r\n    // loaded\r\n    <div className=\"search-result\"\r\n      style={{ marginBottom: searchResult.length > 0 ? \"20px\" : \"0px\" }}\r\n    >\r\n      { /* left page button */}\r\n      { searchResult.length > 0 &&\r\n        <div className={ resultPage === 0 ? \"search-page-button search-page-button-disabled page-left\" : \"search-page-button search-page-button-enabled page-left\" }\r\n          onClick={() => {\r\n            if (resultPage > 0) { setResultPage(resultPage - 1); }\r\n          }}\r\n        >\r\n          <i className=\"fas fa-chevron-left\" />\r\n        </div>\r\n      }\r\n\r\n      { /* Search results */ }\r\n      { ( searchQuery.length >= SEARCH_LENGTH_LIMIT && resultExists) ?\r\n        searchResult\r\n          .slice(resultPage * RESULTS_PER_PAGE, resultPage * RESULTS_PER_PAGE + RESULTS_PER_PAGE)\r\n          .map((result, idx) => (\r\n            <MovieResult nominated={nominated} setNominated={setNominated} movie={result} type=\"search\" key={`movie-${idx}`}/>\r\n          ))\r\n        :\r\n        <div className=\"movie-no-result\">\r\n          No results\r\n        </div>\r\n      }\r\n\r\n      { /* right page button */ }\r\n      { searchResult.length > 0 &&\r\n        <div className={ searchResult.length > (resultPage + 1) * RESULTS_PER_PAGE ? \"search-page-button search-page-button-enabled page-right\" : \"search-page-button search-page-button-disabled page-right\" }\r\n          style={{ visibility: searchQuery.length === 0 ? \"hidden\" : \"visible\" }}\r\n          onClick={() => {\r\n            if (searchResult.length > (resultPage + 1) * RESULTS_PER_PAGE) { setResultPage(resultPage + 1); }\r\n          }}\r\n        >\r\n          <i className=\"fas fa-chevron-right\" />\r\n        </div>\r\n      }\r\n    </div>\r\n    :\r\n    loadingStatus === 1 ?\r\n    // loading\r\n    <div className=\"loading-result\">\r\n      <div className=\"loader\">\r\n        <div style={{ display: \"inline-block\" }}>Loading...</div> \r\n        <BarLoader color={'#A5CF57'} loading={true} height={4} width={100} />\r\n      </div>\r\n    </div>\r\n    :\r\n    // no query\r\n    <></>\r\n  );\r\n}\r\n\r\nexport default SearchResult;","import React, { useState } from 'react';\r\nimport Nominated from './Nominated';\r\nimport SearchBox from './SearchBox';\r\nimport SearchResult from './SearchResult';\r\nimport dotenv from 'dotenv';\r\n\r\nconst Main = () => {\r\n  dotenv.config();\r\n  const [searchQuery, setSearchQuery] = useState(\"\"); // state for storing search query\r\n  const [nominated, setNominated] = useState(() => {\r\n    try {\r\n      const localData = localStorage.getItem('shoppies-nomination'); // load nomination data from local storage if exists\r\n      return localData ? JSON.parse(localData) : [];\r\n    } catch (err) {\r\n      console.log(err);\r\n      return [];\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className=\"logo\">\r\n        <div className=\"logo-image\">\r\n          <img src=\"https://cdn.shopify.com/shopifycloud/brochure/assets/brand-assets/shopify-logo-shopping-bag-full-color-66166b2e55d67988b56b4bd28b63c271e2b9713358cb723070a92bde17ad7d63.svg\" alt=\"shopify-logo\" />\r\n        </div>\r\n        <div className=\"logo-label\"><em>The Shoppies</em></div>\r\n      </div>\r\n      <div className=\"container\">\r\n        <SearchBox setSearchQuery={setSearchQuery} />\r\n        <SearchResult searchQuery={searchQuery} nominated={nominated} setNominated={setNominated} />\r\n      </div>\r\n      <div className=\"container\">\r\n        <Nominated nominated={nominated} setNominated={setNominated} setSearchQuery={setSearchQuery} />\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default Main;","import './App.css';\nimport Main from './components/Main';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}